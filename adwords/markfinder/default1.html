{% extends "layouts/base.html" %}

{% block wrapper %}
    <link type="text/css" rel="stylesheet" href="../static/css/main.css">
	<script  type="text/javascript" src="jquery-1.8.2.min.js"></script>
    <div id="main">
        <div id="requestPanel" width="100%">
            <form id="form1">
            <table cellpadding="2" cellspacing="0" border="0" class="requestPanel">
                <colgroup>
                    <col>
                </colgroup>
                <tbody>
                    <tr class="requestPanelTitleRow">
                        <td class="requestPanelTitleCell">您的业务</td>
                        <td class="requestPanelTitleCell">搜索字词</td>
                        <td class="requestPanelTitleCell">过滤器</td>
                    </tr>
                    <tr>
                        <td class="inputLanguageCell" style="vertical-align: top;">
                            <table border="0">
                                <colgroup>
                                    <col>
                                    <col>
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <td>选择您所在的国家/地区：</td>
                                        <td>
                                            <select class="gwt-ListBox" id="selCountry" name="country"></select>

                                        </td>
                                    </tr>
                                    <tr><td>选择您所用的语言：</td><td><select class="gwt-ListBox" id="selLanguage" name="language"><option value="zh-Hans">中文简体</option><option value="zh-Hant">中文繁体</option><option value="da">丹麦语</option><option value="uk">乌克兰语</option><option value="ur">乌尔都语</option><option value="ru">俄语</option><option value="bg">保加利亚语</option><option value="hr">克罗地亚语</option><option value="is">冰岛语</option><option value="ca">加泰罗尼亚语</option><option value="hu">匈牙利语</option><option value="hi">印地语</option><option value="id">印度尼西亚语</option><option value="tr">土耳其语</option><option value="sr">塞尔维亚语</option><option value="iw">希伯来语</option><option value="el">希腊语</option><option value="de">德语</option><option value="it">意大利语</option><option value="lv">拉脱维亚语</option><option value="no">挪威语</option><option value="cs">捷克语</option><option value="sk">斯洛伐克语</option><option value="sl">斯洛文尼亚语</option><option value="ja">日语</option><option value="fr">法语</option><option value="pl">波兰语</option><option value="th">泰语</option><option value="et">爱沙尼亚语</option><option value="sv">瑞典语</option><option value="lt">立陶宛语</option><option value="ro">罗马尼亚语</option><option value="fi">芬兰语</option><option value="en">英语</option><option value="nl">荷兰语</option><option value="fil">菲律宾语</option><option value="pt">葡萄牙语</option><option value="es">西班牙语</option><option value="vi">越南语</option><option value="ar">阿拉伯语</option><option value="ko">韩语</option></select></td></tr>
                                </tbody>
                            </table>
                        </td>
                        <td class="inputKeywordsCell" style="vertical-align: top;">
                            <table border="0">
                                <colgroup>
                                    <col>
                                    <col>
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <td class="keyword-label">关键字：</td>
                                        <td>
                                            <textarea class="gwt-TextArea" cols="30" rows="3" dir="ltr" name="keywords"></textarea></td>
                                    </tr>
                                    <tr>
                                        <td>&nbsp;</td>
                                        <td class="help-text">
                                            <div><span>每行输入一个关键字<img src="../static/help-icon.gif" class="gwt-Image tooltip-icon"></span></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>&nbsp;</td>
                                        <td class="keywords-overlimit-warning" aria-hidden="true" style="display: none;">我们只会使用前 100 个关键字</td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td class="filtersCell" style="vertical-align: top;">
                            <table border="0">
                                <colgroup>
                                    <col>
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <td>
                                            <select class="gwt-ListBox" name="area">
                                                <option value="9">全球</option>
                                                <option value="0">G20</option>
                                                <option value="6">中东</option>
                                                <option value="5">亚洲</option>
                                                <option value="4">大洋洲</option>
                                                <option value="7">新兴市场</option>
                                                <option value="1">欧洲</option>
                                                <option value="8">欧盟</option>
                                                <option value="2">美洲</option>
                                                <option value="3">非洲</option>
                                            </select></td>
                                    </tr>

                                </tbody>
                            </table>
                        </td>
                    </tr>

                    <tr>
                        <td align="left" class="actionButtonCell">
                            <button type="button" class="gwt-Button">寻找商机</button></td>
                    </tr>
                </tbody>
            </table>
                </form>
        </div>



    </div>
{% endblock %}
{% block javascript %}
{{ super() }}
    <script type="text/javascript">
        var countrycode = { "CN": "中国", "DK": "丹麦", "UA": "乌克兰", "UG": "乌干达", "YE": "也门", "IL": "以色列", "IQ": "伊拉克", "RU": "俄罗斯", "BG": "保加利亚", "HR": "克罗地亚", "IS": "冰岛", "LI": "列支敦士登", "LY": "利比亚", "CA": "加拿大", "GH": "加纳", "HU": "匈牙利", "ZA": "南非", "QA": "卡塔尔", "LU": "卢森堡", "IN": "印度", "ID": "印度尼西亚", "EC": "厄瓜多尔", "TW": "台湾", "KZ": "哈萨克斯坦", "CO": "哥伦比亚", "CR": "哥斯达黎加", "TR": "土耳其", "TZ": "坦桑尼亚", "EG": "埃及", "ET": "埃塞俄比亚", "RS": "塞尔维亚", "SL": "塞拉利昂", "CY": "塞浦路斯", "MX": "墨西哥", "DO": "多米尼加共和国", "AT": "奥地利", "VE": "委内瑞拉", "BD": "孟加拉国", "AO": "安哥拉", "NG": "尼日利亚", "PS": "巴勒斯坦地区", "PK": "巴基斯坦", "BB": "巴巴多斯", "PA": "巴拿马", "BH": "巴林", "BR": "巴西", "GR": "希腊", "DE": "德国", "IT": "意大利", "LV": "拉脱维亚", "NO": "挪威", "CZ": "捷克共和国", "MA": "摩洛哥", "MC": "摩纳哥", "BN": "文莱", "SK": "斯洛伐克", "SI": "斯洛文尼亚", "LK": "斯里兰卡", "SG": "新加坡", "NZ": "新西兰", "JP": "日本", "CL": "智利", "GL": "格陵兰", "BE": "比利时", "SA": "沙特阿拉伯", "FR": "法国", "FO": "法罗群岛", "PL": "波兰", "BA": "波斯尼亚和黑塞哥维那", "TH": "泰国", "AU": "澳大利亚", "MO": "澳门", "IE": "爱尔兰", "EE": "爱沙尼亚", "JM": "牙买加", "TT": "特立尼达和多巴哥", "SE": "瑞典", "CH": "瑞士", "KW": "科威特", "PE": "秘鲁", "TN": "突尼斯", "LT": "立陶宛", "JO": "约旦", "RO": "罗马尼亚", "US": "美国", "KE": "肯尼亚", "FI": "芬兰", "GB": "英国", "NL": "荷兰", "MZ": "莫桑比克", "PH": "菲律宾", "PT": "葡萄牙", "ES": "西班牙", "VN": "越南", "AZ": "阿塞拜疆", "DZ": "阿尔及利亚", "AE": "阿拉伯联合酋长国", "OM": "阿曼", "AR": "阿根廷", "KR": "韩国", "HK": "香港", "MY": "马来西亚", "LB": "黎巴嫩" }
        var language = { "zh-Hans": "中文简体", "zh-Hant": "中文繁体", "da": "丹麦语", "uk": "乌克兰语", "ur": "乌尔都语", "ru": "俄语", "bg": "保加利亚语", "hr": "克罗地亚语", "is": "冰岛语", "ca": "加泰罗尼亚语", "hu": "匈牙利语", "hi": "印地语", "id": "印度尼西亚语", "tr": "土耳其语", "sr": "塞尔维亚语", "iw": "希伯来语", "el": "希腊语", "de": "德语", "it": "意大利语", "lv": "拉脱维亚语", "no": "挪威语", "cs": "捷克语", "sk": "斯洛伐克语", "sl": "斯洛文尼亚语", "ja": "日语", "fr": "法语", "pl": "波兰语", "th": "泰语", "et": "爱沙尼亚语", "sv": "瑞典语", "lt": "立陶宛语", "ro": "罗马尼亚语", "fi": "芬兰语", "en": "英语", "nl": "荷兰语", "fil": "菲律宾语", "pt": "葡萄牙语", "es": "西班牙语", "vi": "越南语", "ar": "阿拉伯语", "ko": "韩语" }
		$.each(countrycode, function (id, value) { $("#selCountry").append('<option value="' + id + '">' + value + '</option>') })
        $("#selCountry").val("US")
        $("#selLanguage").val("en")
        var dataset=""
		dataset=JSON.parse('{"result":{"1":"LTkxMjgwMzAxMzE3MzAxMDIxNDc\u003d","2":[{"1":"DE","2":[{"1":"de","2":[{"1":{"1":"eismaschine","2":1},"2":{"1":"33100","2":"USD","3":0.9966789344814156,"4":0.9999269467857516,"5":0.541602},"3":["ice machine"]},{"1":{"1":"eisbereiter","2":1},"2":{"1":"480","2":"USD","3":0.9996419620479772,"4":0.5695450295457831,"5":1.018244},"3":["ice machine"]}],"3":{"1":"33580","2":"USD","3":0.9967212886574712,"4":0.999983986211488,"5":0.5484152269207861},"4":"0CgJERRICZGU"},{"1":"en","2":[{"1":{"1":"ice machine","2":1},"2":{"1":"210","2":"USD","3":0.9783913565426171,"4":0.49130695338754876,"5":1.071703},"3":["ice machine"]}],"3":{"1":"210","2":"USD","3":0.9783913565426171,"4":0.49130695338754876,"5":1.071703},"4":"0CgJERRICZW4"}],"3":{"1":"33790","2":"USD","3":0.9966073707603383,"4":1.0,"5":0.5516673853211008},"4":"0CgJERQ"},{"1":"JP","2":[{"1":"ja","2":[{"1":{"1":"\u88fd\u6c37\u6a5f","2":1},"2":{"1":"12100","2":"USD","3":0.9964899845617579,"4":0.936970132802933,"5":0.332598},"3":["ice machine"]}],"3":{"1":"12100","2":"USD","3":0.9964899845617579,"4":0.936970132802933,"5":0.332598},"4":"0CgJKUBICamE"}],"3":{"1":"12100","2":"USD","3":0.9964899845617579,"4":0.936970132802933,"5":0.332598},"4":"0CgJKUA"},{"1":"TR","2":[{"1":"tr","2":[{"1":{"1":"buz makinesi","2":1},"2":{"1":"3600","2":"USD","3":0.999650512581547,"4":0.9127655164827102,"5":0.079692},"3":["ice machine"]}],"3":{"1":"3600","2":"USD","3":0.999650512581547,"4":0.9127655164827102,"5":0.07969199999999999},"4":"0CgJUUhICdHI"}],"3":{"1":"3600","2":"USD","3":0.999650512581547,"4":0.9127655164827102,"5":0.07969199999999999},"4":"0CgJUUg"},{"1":"US","2":[{"1":"en","2":[{"1":{"1":"ice machine","2":1},"2":{"1":"40500","2":"USD","3":0.9985630875901453,"4":0.9052146276835348,"5":3.4027890000000003},"3":["ice machine"]}],"3":{"1":"40500","2":"USD","3":0.9985630875901453,"4":0.9052146276835348,"5":3.4027890000000007},"4":"0CgJVUxICZW4"}],"3":{"1":"40500","2":"USD","3":0.9985630875901453,"4":0.9052146276835348,"5":3.4027890000000007},"4":"0CgJVUw"},{"1":"GB","2":[{"1":"en","2":[{"1":{"1":"ice machine","2":1},"2":{"1":"5400","2":"USD","3":0.9997261774370209,"4":0.7973927554909059,"5":0.9520689999999999},"3":["ice machine"]}],"3":{"1":"5400","2":"USD","3":0.9997261774370209,"4":0.7973927554909059,"5":0.9520689999999999},"4":"0CgJHQhICZW4"}],"3":{"1":"5400","2":"USD","3":0.9997261774370209,"4":0.7973927554909059,"5":0.9520689999999999},"4":"0CgJHQg"},{"1":"RU","2":[{"1":"ru","2":[{"1":{"1":"\u043b\u044c\u0434\u043e\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440","2":1},"2":{"1":"1900","2":"USD","3":1.0,"4":0.7678632191464229,"5":0.32078500000000004},"3":["ice machine"]}],"3":{"1":"1900","2":"USD","3":1.0,"4":0.7678632191464229,"5":0.32078500000000004},"4":"0CgJSVRICcnU"}],"3":{"1":"1900","2":"USD","3":1.0,"4":0.7678632191464229,"5":0.32078500000000004},"4":"0CgJSVQ"},{"1":"IT","2":[{"1":"it","2":[{"1":{"1":"macchina del ghiaccio","2":1},"2":{"1":"1600","2":"USD","3":0.9990288119132406,"4":0.7160423730988296,"5":0.5753339999999999},"3":["ice machine"]},{"1":{"1":"macchina per ghiaccio","2":1},"2":{"1":"1000","2":"USD","3":1.0,"4":0.6772980449599131,"5":0.5325850000000001},"3":["ice machine"]}],"3":{"1":"2600","2":"USD","3":0.9994023457927635,"4":0.7423777611479778,"5":0.558892076923077},"4":"0CgJJVBICaXQ"},{"1":"de","3":{"4":0.0},"4":"0CgJJVBICZGU"}],"3":{"1":"2600","2":"USD","3":0.9994023457927635,"4":0.7423777611479778,"5":0.558892076923077},"4":"0CgJJVA"},{"1":"KR","2":[{"1":"ko","2":[{"1":{"1":"\uc81c\ube59\uae30","2":1},"2":{"1":"880","2":"USD","3":0.5834681042228212,"4":0.736227528002179,"5":0.289574},"3":["ice machine"]},{"1":{"1":"\uc544\uc774\uc2a4\ud06c\ub9bc\uae30\uacc4","2":1},"2":{"1":"170","2":"USD","3":0.5599758890898132,"4":0.5942679655304584,"5":0.256502},"3":["ice machine"]}],"3":{"1":"1050","2":"USD","3":0.5796646027250962,"4":0.7420935948931878,"5":0.2842194857142857},"4":"0CgJLUhICa28"}],"3":{"1":"1050","2":"USD","3":0.5796646027250962,"4":0.7420935948931878,"5":0.2842194857142857},"4":"0CgJLUg"},{"1":"BR","2":[{"1":"pt","2":[{"1":{"1":"m\u00e1quina gelo","2":1},"2":{"1":"1000","2":"USD","3":0.9944979367262724,"4":0.7238673071371897,"5":0.251515},"3":["ice machine"]}],"3":{"1":"1000","2":"USD","3":0.9944979367262724,"4":0.7238673071371897,"5":0.251515},"4":"0CgJCUhICcHQ"},{"1":"en","2":[{"1":{"1":"ice machine","2":1},"2":{"1":"260","2":"USD","3":0.811586051743532,"4":0.581416554381237,"5":0.412372},"3":["ice machine"]}],"3":{"1":"260","2":"USD","3":0.811586051743532,"4":0.581416554381237,"5":0.412372},"4":"0CgJCUhICZW4"}],"3":{"1":"1260","2":"USD","3":0.9567542144282466,"4":0.7296889315390518,"5":0.2847077142857143},"4":"0CgJCUg"},{"1":"IN","2":[{"1":"en","2":[{"1":{"1":"ice machine","2":1},"2":{"1":"590","2":"USD","3":0.9823434991974318,"4":0.7195180048845593,"5":0.123833},"3":["ice machine"]}],"3":{"1":"590","2":"USD","3":0.9823434991974318,"4":0.7195180048845593,"5":0.123833},"4":"0CgJJThICZW4"}],"3":{"1":"590","2":"USD","3":0.9823434991974318,"4":0.7195180048845593,"5":0.123833},"4":"0CgJJTg"},{"1":"CA","2":[{"1":"en","2":[{"1":{"1":"ice machine","2":1},"2":{"1":"1000","2":"USD","3":0.9966442953020134,"4":0.6561014382390894,"5":0.753777},"3":["ice machine"]}],"3":{"1":"1000","2":"USD","3":0.9966442953020134,"4":0.6561014382390894,"5":0.753777},"4":"0CgJDQRICZW4"}],"3":{"1":"1000","2":"USD","3":0.9966442953020134,"4":0.6561014382390894,"5":0.753777},"4":"0CgJDQQ"},{"1":"AU","2":[{"1":"en","2":[{"1":{"1":"ice machine","2":1},"2":{"1":"1900","2":"USD","3":1.0,"4":0.6364677671808929,"5":2.705777},"3":["ice machine"]}],"3":{"1":"1900","2":"USD","3":1.0,"4":0.6364677671808929,"5":2.705777},"4":"0CgJBVRICZW4"}],"3":{"1":"1900","2":"USD","3":1.0,"4":0.6364677671808929,"5":2.705777},"4":"0CgJBVQ"},{"1":"ZA","2":[{"1":"en","2":[{"1":{"1":"ice machine","2":1},"2":{"1":"880","2":"USD","3":0.988255033557047,"4":0.6272486088201685,"5":1.00229},"3":["ice machine"]}],"3":{"1":"880","2":"USD","3":0.988255033557047,"4":0.6272486088201685,"5":1.00229},"4":"0CgJaQRICZW4"}],"3":{"1":"880","2":"USD","3":0.988255033557047,"4":0.6272486088201685,"5":1.00229},"4":"0CgJaQQ"},{"1":"ID","2":[{"1":"id","2":[{"1":{"1":"mesin pembuat es","2":1},"2":{"1":"110","2":"USD","3":0.891156462585034,"4":0.6154449586438075,"5":0.059493000000000004},"3":["ice machine"]}],"3":{"1":"110","2":"USD","3":0.891156462585034,"4":0.6154449586438075,"5":0.059493000000000004},"4":"0CgJJRBICaWQ"}],"3":{"1":"110","2":"USD","3":0.891156462585034,"4":0.6154449586438075,"5":0.059493000000000004},"4":"0CgJJRA"},{"1":"FR","2":[{"1":"fr","2":[{"1":{"1":"machine glace","2":1},"2":{"1":"320","2":"USD","3":0.989100817438692,"4":0.57113427288369,"5":0.545906},"3":["ice machine"]}],"3":{"1":"320","2":"USD","3":0.989100817438692,"4":0.57113427288369,"5":0.545906},"4":"0CgJGUhICZnI"},{"1":"de","3":{"4":0.0},"4":"0CgJGUhICZGU"}],"3":{"1":"320","2":"USD","3":0.989100817438692,"4":0.57113427288369,"5":0.545906},"4":"0CgJGUg"},{"1":"MX","3":{"4":0.0},"4":"0CgJNWA"},{"1":"CN","3":{"4":0.0}},{"1":"AR","3":{"4":0.0}},{"1":"SA","3":{"4":0.0}}]}}')

        $("button").click(function() {

            data = $('#form1').serialize();
            $.ajax({
                type: 'POST',
                url: 'global_market',
                data: data,
                dataType: 'json',
                success: function (data) {
                    dataset = data
                    var results = dataset["result"]["2"]
                    function gwt_html(p) {
                        p = p.toFixed(2) * 100
                        var html = '<div class="gwt-HTML"><div><div style="width:50px; height:11px; border:1px solid #CCC;"><div style="width:' + p + '%; height:100%; float:left; background-color:rgb(25, 105, 186);"></div></div></div></div>'
                        return html
                    }
                    $("#resultPanel").remove()
                    $("#main").append('<div id="resultPanel" width="100%"><div class="gwt-Label resultsSectionHeading">客户的地理分布</div><table border="0" cellpadding="0" cellspacing="0" id="resultsTable"><colgroup><col></colgroup><tbody><tr class="resultPanelTitleRow"><td class="navCellTitle"></td><td class="countryLinkCell">地理位置</td><td class="opportunityCell"><div><span>商机<img src="../static/help-icon.gif" class="gwt-Image tooltip-icon"></span></div></td><td class="searchVolumeCell"><div><span>本地每月搜索量<img src="../static/help-icon.gif" class="gwt-Image tooltip-icon"></span></div></td><td class="competitionCell"><div><span>竞争程度<img src="../static/help-icon.gif" class="gwt-Image tooltip-icon"></span></div></td></tr></tbody></table></div>')

                    $.each(results, function (id, value) {
                        $("#resultsTable").append('<tr class="countryRow" onclick="openrow($(this))"><td class="navCell"><img src="../static/plus.png" class="gwt-Image"></td><td class="countryLinkCell">' + countrycode[value[1]] + '</td><td class="opportunityCell">' + gwt_html(value[3][4]) + '</td><td class="searchVolumeCell">' + value[3][1] + '</td><td class="competitionCell">' + gwt_html(value[3][3]) + '</td></tr>')

                        $.each(value[2], function (id, value) {
                            if (value[2]) {
                                $("#resultsTable").append('<tr class="languageRow" style="display: none;" onclick="openrow1($(this))"><td></td><td class="langTable"><table><colgroup><col><col></colgroup><tr><td class="subNavCell"><img src="../static/plus.png" class="gwt-Image"></td><td class="languageLinkCell"><div class="gwt-Hyperlink"><a href="#%23de_DE">' + language[value[1]] + '</a></div></td></tr></table></td><td class="opportunityCell">' + gwt_html(value[3][4]) + '</td><td class="searchVolumeCell">' + value[3][1] + '</td><td class="competitionCell">' + gwt_html(value[3][3]) + '</td></tr>')
                                $.each(value[2], function (id, value) {
                                    $("#resultsTable").append('<tr style="display: none;"><td class="navCell"></td><td><table class="keywordTable"><colgroup><col></colgroup><tbody><tr><td class="keywordCell">' + value[1][1] + '</td></tr></tbody></table></td><td class="opportunityCell">' + gwt_html(value[2][4]) + '</td><td class="searchVolumeCell">' + value[2][1] + '</td><td class="competitionCell">' + gwt_html(value[2][3]) + '</td></tr>')
                                })
                            }
                        })
                    })
                },
                error: function (xhr, type) {
                }
            })
        })
		                    var results = dataset["result"]["2"]
                    function gwt_html(p) {
                        p = p.toFixed(2) * 100
                        var html = '<div class="gwt-HTML"><div><div style="width:50px; height:11px; border:1px solid #CCC;"><div style="width:' + p + '%; height:100%; float:left; background-color:rgb(25, 105, 186);"></div></div></div></div>'
                        return html
                    }
                    $("#resultPanel").remove()
                    $("#main").append('<div id="resultPanel" width="100%"><div class="gwt-Label resultsSectionHeading">客户的地理分布</div><table border="0" cellpadding="0" cellspacing="0" id="resultsTable"><colgroup><col></colgroup><tbody><tr class="resultPanelTitleRow"><td class="navCellTitle"></td><td class="countryLinkCell">地理位置</td><td class="opportunityCell"><div><span>商机<img src="../static/help-icon.gif" class="gwt-Image tooltip-icon"></span></div></td><td class="searchVolumeCell"><div><span>本地每月搜索量<img src="../static/help-icon.gif" class="gwt-Image tooltip-icon"></span></div></td><td class="competitionCell"><div><span>竞争程度<img src="../static/help-icon.gif" class="gwt-Image tooltip-icon"></span></div></td></tr></tbody></table></div>')

                    $.each(results, function (id, value) {
                        $("#resultsTable").append('<tr class="countryRow" onclick="openrow($(this))"><td class="navCell"><img src="../static/plus.png" class="gwt-Image"></td><td class="countryLinkCell">' + countrycode[value[1]] + '</td><td class="opportunityCell">' + gwt_html(value[3][4]) + '</td><td class="searchVolumeCell">' + value[3][1] + '</td><td class="competitionCell">' + gwt_html(value[3][3]) + '</td></tr>')

                        $.each(value[2], function (id, value) {
                            if (value[2]) {
                                $("#resultsTable").append('<tr class="languageRow" style="display: none;" onclick="openrow1($(this))"><td></td><td class="langTable"><table><colgroup><col><col></colgroup><tr><td class="subNavCell"><img src="../static/plus.png" class="gwt-Image"></td><td class="languageLinkCell"><div class="gwt-Hyperlink"><a href="#%23de_DE">' + language[value[1]] + '</a></div></td></tr></table></td><td class="opportunityCell">' + gwt_html(value[3][4]) + '</td><td class="searchVolumeCell">' + value[3][1] + '</td><td class="competitionCell">' + gwt_html(value[3][3]) + '</td></tr>')
                                $.each(value[2], function (id, value) {
                                    $("#resultsTable").append('<tr style="display: none;"><td class="navCell"></td><td><table class="keywordTable"><colgroup><col></colgroup><tbody><tr><td class="keywordCell">' + value[1][1] + '</td></tr></tbody></table></td><td class="opportunityCell">' + gwt_html(value[2][4]) + '</td><td class="searchVolumeCell">' + value[2][1] + '</td><td class="competitionCell">' + gwt_html(value[2][3]) + '</td></tr>')
                                })
                            }
                        })
                    })


        function openrow1(v) {
            if (v[0].getAttribute("open") == "t") {
                v[0].removeAttribute("open");
                v.find("img")[0].src = "../static/plus.png"
                while (v.next()[0].className == "") {
                    v = v.next();

                    v[0].style.display = "none"

                }
            }
            else {
                v[0].setAttribute("open", "t")
                v.find("img")[0].src = "../static/minus.png"
                while (v.next()[0].className != "languageRow") {
                    v = v.next();
                    v[0].style.display = ""
                }
            }
        }

        function openrow(v) {
            var n = v[0].className
            if (v[0].getAttribute("open") == "t") {
                v.find("img")[0].src = "../static/plus.png"
                v[0].removeAttribute("open");
                while (v.next()[0].className != "countryRow") {
                    v = v.next();
                    if (v.find("img")[0]) {
                        v.find("img")[0].src = "../static/plus.png"
                    }
                    v[0].style.display = "none"
                }
            }
            else {
                v[0].setAttribute("open", "t")
                v.find("img")[0].src = "../static/minus.png"
                while (v.next()[0].className != n) {
                    v = v.next();
                    if (v[0].className != "") {
                        v[0].style.display = ""
                    }
                }
            }


        }


    </script>




{% endblock %}